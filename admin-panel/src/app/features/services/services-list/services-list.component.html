<div class="services-container">
  <!-- Page Header -->
  <div class="page-header">
    <div class="page-title">
      <mat-icon class="title-icon">build</mat-icon>
      <div class="title-content">
        <h1>Services</h1>
        <p class="page-description">Manage your services and track their performance</p>
      </div>
    </div>
    <button mat-raised-button color="primary" routerLink="/services/create" class="add-service-btn">
      <mat-icon>add</mat-icon>
      Add Service
    </button>
  </div>

  <!-- Summary Cards -->
  <div class="summary-cards" *ngIf="!loading">
    <div class="summary-card blue-card">
      <div class="card-icon">
        <mat-icon>business_center</mat-icon>
      </div>
      <div class="card-content">
        <h3>Total Services</h3>
        <p>{{ services.length }} active services</p>
      </div>
      <div class="trend-icon">
        <mat-icon>trending_up</mat-icon>
      </div>
    </div>

    <div class="summary-card green-card">
      <div class="card-icon">
        <mat-icon>people</mat-icon>
      </div>
      <div class="card-content">
        <h3>Total Bookings</h3>
        <p>{{ totalBookings }} appointments</p>
      </div>
      <div class="trend-icon">
        <mat-icon>trending_up</mat-icon>
      </div>
    </div>

    <div class="summary-card purple-card">
      <div class="card-icon">
        <mat-icon>attach_money</mat-icon>
      </div>
      <div class="card-content">
        <h3>Average Occupancy</h3>
        <p>{{ averageOccupancy }}% capacity</p>
      </div>
      <div class="trend-icon">
        <mat-icon>trending_up</mat-icon>
      </div>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <mat-spinner></mat-spinner>
    <p>Loading services...</p>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && services.length === 0" class="empty-state">
    <mat-icon class="empty-icon">business_center</mat-icon>
    <h3>No services yet</h3>
    <p>Create your first service to get started</p>
    <button mat-raised-button color="primary" routerLink="/services/create">
      <mat-icon>add</mat-icon>
      Add Service
    </button>
  </div>

  <!-- Services Grid -->
  <div *ngIf="!loading && services.length > 0" class="services-grid">
    <div *ngFor="let service of services" class="service-card">
      <!-- Service Header -->
      <div class="service-header">
        <div class="service-icon">
          <mat-icon>{{ getServiceIcon(service) }}</mat-icon>
        </div>
        <div class="service-info">
          <span class="service-category">{{ getServiceCategory(service) }}</span>
          <h3 class="service-name">{{ getLocalizedName(service) }}</h3>
          <p class="service-description">{{ getLocalizedDescription(service) }}</p>
        </div>
      </div>

      <!-- Service Details -->
      <div class="service-details">
        <div class="detail-item">
          <mat-icon class="detail-icon price-icon">attach_money</mat-icon>
          <div class="detail-content">
            <span class="detail-label">Price</span>
            <span class="detail-value">${{ service.price || 0 }}</span>
          </div>
        </div>

        <div class="detail-item">
          <mat-icon class="detail-icon duration-icon">schedule</mat-icon>
          <div class="detail-content">
            <span class="detail-label">Duration</span>
            <span class="detail-value">{{ formatDuration(service.durationMin) }}</span>
          </div>
        </div>
      </div>

      <!-- Occupancy Section -->
      <div class="occupancy-section">
        <div class="occupancy-header">
          <span class="occupancy-label">Occupancy</span>
          <span class="occupancy-percentage" [ngClass]="getOccupancyClass(service)">
            {{ getOccupancyPercentage(service) }}%
          </span>
        </div>
        
        <div class="occupancy-bar">
          <div class="occupancy-fill" [style.width.%]="getOccupancyPercentage(service)"></div>
        </div>
        
        <div class="occupancy-text">
          {{ getBookedSlots(service) }} of {{ getTotalSlots(service) }} slots booked
        </div>
      </div>

      <!-- Action Button -->
      <div class="service-actions">
        <button mat-stroked-button class="manage-slots-btn" [routerLink]="['/slots']">
          <mat-icon>event</mat-icon>
          Manage Slots
        </button>
      </div>
    </div>
  </div>
</div>
