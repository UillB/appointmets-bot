<div class="qr-code-generator">
  <!-- Загрузка -->
  <div class="loading-section" *ngIf="isGenerating">
    <mat-spinner diameter="40"></mat-spinner>
    <p>Генерация QR-кода...</p>
  </div>

  <!-- Ошибка -->
  <div class="error-section" *ngIf="error && !isGenerating">
    <mat-icon color="warn">error</mat-icon>
    <p>{{ error }}</p>
    <button mat-stroked-button (click)="generateQRCode()">
      <mat-icon>refresh</mat-icon>
      Попробовать снова
    </button>
  </div>

  <!-- QR-код -->
  <div class="qr-section" *ngIf="qrCodeDataUrl && !isGenerating && !error">
    <div class="qr-container">
      <img [src]="qrCodeDataUrl" [alt]="'QR-код для ' + data" class="qr-image">
    </div>

    <!-- Кнопки действий -->
    <div class="action-buttons">
      <button 
        mat-raised-button 
        color="primary"
        (click)="openQRCodeFullscreen()"
        class="fullscreen-button">
        <mat-icon>fullscreen</mat-icon>
        Открыть
      </button>

      <button 
        mat-stroked-button
        (click)="downloadQRCode()"
        *ngIf="showDownloadButton"
        class="download-button">
        <mat-icon>download</mat-icon>
        Скачать
      </button>

      <button 
        mat-stroked-button
        (click)="shareQRCode()"
        *ngIf="showShareButton"
        class="share-button">
        <mat-icon>share</mat-icon>
        Поделиться
      </button>
    </div>
  </div>

  <!-- Заглушка, если нет данных -->
  <div class="placeholder-section" *ngIf="!data && !isGenerating && !error">
    <mat-icon>qr_code</mat-icon>
    <p>Введите данные для генерации QR-кода</p>
  </div>
</div>
