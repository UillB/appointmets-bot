# ü§ñ –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è GPT - Appointments Bot

–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç –ø—Ä–æ–º–ø—Ç, —á—Ç–æ–±—ã GPT –ø–æ–Ω–∏–º–∞–ª –ø–æ–ª–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É –∏ –æ–±—â–∏–º –≤–æ–ø—Ä–æ—Å–∞–º.

---

## üìã –û–ë–©–ï–ï –û–ü–ò–°–ê–ù–ò–ï –°–ò–°–¢–ï–ú–´

**Appointments Bot** - —ç—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –º—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø–∏—Å–µ–π —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Telegram –±–æ—Ç–∞ –∏ –≤–µ–±-–∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å—é. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π (–∫–ª–∏–Ω–∏–∫–∏, —Å–∞–ª–æ–Ω—ã, –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç—ã) –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º —É–¥–æ–±–Ω–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø–∏—Å–µ–π —á–µ—Ä–µ–∑ Telegram.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ - –∫–∞–∂–¥–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∏–º–µ–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –±–æ—Ç–∞ –∏ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ Telegram Bot - –ø–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ Telegram
- ‚úÖ Admin Panel - –≤–µ–±-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏, —É—Å–ª—É–≥–∞–º–∏, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏
- ‚úÖ AI Assistant - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π AI –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ Multi-language - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ, –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ, –∏–≤—Ä–∏—Ç–∞
- ‚úÖ WebSocket Real-time - –∂–∏–≤—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ Production Ready - Docker, SSL, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –±—ç–∫–∞–ø—ã

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Appointments Bot System                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Backend (4000)    Frontend (4200)    Telegram Bot          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ  ‚îÇ Node.js  ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ  React   ‚îÇ       ‚îÇ Telegraf ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ Express  ‚îÇ      ‚îÇ  Admin   ‚îÇ       ‚îÇ  Bot API ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ Prisma   ‚îÇ      ‚îÇ  Panel   ‚îÇ       ‚îÇ          ‚îÇ          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îÇ       ‚îÇ                  ‚îÇ                   ‚îÇ               ‚îÇ
‚îÇ       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò             ‚îÇ
‚îÇ                          ‚îÇ                                   ‚îÇ
‚îÇ                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                         ‚îÇ
‚îÇ                  ‚îÇ   Database      ‚îÇ                         ‚îÇ
‚îÇ                  ‚îÇ SQLite/Postgres ‚îÇ                         ‚îÇ
‚îÇ                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                         ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  Landing (3000)    WebSocket Server    Analytics             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ  ‚îÇ Next.js  ‚îÇ      ‚îÇ WebSocket‚îÇ       ‚îÇ Tracking ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ Marketing‚îÇ      ‚îÇ Real-time‚îÇ       ‚îÇ Events   ‚îÇ          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```
appointments-bot/
‚îú‚îÄ‚îÄ backend/              # Node.js API —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/          # REST API routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bot/          # Telegram bot handlers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ websocket/    # WebSocket server
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ lib/          # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ prisma/           # Database schema & migrations
‚îÇ
‚îú‚îÄ‚îÄ admin-panel-react/    # React Admin Panel
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/   # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/        # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/     # API —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ hooks/        # React hooks
‚îÇ
‚îú‚îÄ‚îÄ landing/              # Next.js Landing Page
‚îÇ   ‚îú‚îÄ‚îÄ app/              # Next.js app directory
‚îÇ   ‚îî‚îÄ‚îÄ components/       # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ª–µ–Ω–¥–∏–Ω–≥–∞
‚îÇ
‚îú‚îÄ‚îÄ docs/                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ scripts/              # –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ docker-compose.yml    # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

---

## üîß –¢–ï–•–ù–û–õ–û–ì–ò–ß–ï–°–ö–ò–ô –°–¢–ï–ö

### Backend:
- **Runtime:** Node.js 20+
- **Framework:** Express.js 5.1.0
- **ORM:** Prisma 6.17.1
- **Database:** SQLite (dev) / PostgreSQL (prod)
- **Telegram Bot:** Telegraf.js 4.16.3
- **WebSocket:** ws 8.18.3 + Socket.io 4.8.1
- **Authentication:** JWT (jsonwebtoken 9.0.2)
- **Validation:** Zod 4.1.12
- **AI:** OpenAI 6.5.0 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### Frontend (Admin Panel):
- **Framework:** React 18.3.1 + TypeScript
- **Build Tool:** Vite 6.3.5
- **UI Library:** Radix UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **Styling:** Tailwind CSS 4.0.0
- **Routing:** React Router DOM 7.9.4
- **Forms:** React Hook Form 7.55.0
- **State:** React Hooks (useState, useEffect, useContext)
- **Charts:** Recharts 2.15.2

### Frontend (Landing):
- **Framework:** Next.js 14
- **Styling:** Tailwind CSS
- **i18n:** –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç–∏

### Infrastructure:
- **Containerization:** Docker & Docker Compose
- **Reverse Proxy:** Nginx
- **SSL/TLS:** Let's Encrypt (production)
- **Process Manager:** PM2 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üóÑÔ∏è –°–•–ï–ú–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏ (Prisma):

#### Organization (–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)
```prisma
- id: Int (PK)
- name: String
- description: String? (–æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è AI)
- address: String?
- workingHours: String?
- phone: String?
- email: String?
- avatar: String? (URL –∫ –∞–≤–∞—Ç–∞—Ä—É)
- botToken: String? (Telegram bot token)
- botUsername: String? (Telegram bot username)
- createdAt, updatedAt: DateTime
- Relations: users[], services[], aiConfig, aiUsageLogs[], notifications[], eventLogs[]
```

#### User (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
```prisma
- id: Int (PK)
- email: String (Unique)
- password: String (Hashed bcrypt)
- name: String
- role: UserRole (SUPER_ADMIN | OWNER | MANAGER)
- organizationId: Int (FK)
- telegramId: String? (Unique, –¥–ª—è Web App auth)
- createdAt, updatedAt: DateTime
- Relations: organization, notifications[], eventLogs[]
```

#### Service (–£—Å–ª—É–≥–∏)
```prisma
- id: Int (PK)
- name: String (fallback)
- nameRu, nameEn, nameHe: String? (–º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è)
- description, descriptionRu, descriptionEn, descriptionHe: String?
- durationMin: Int (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –º–∏–Ω—É—Ç–∞—Ö)
- price: Float?
- currency: String? (RUB, USD, EUR)
- organizationId: Int (FK)
- createdAt, updatedAt: DateTime
- Relations: organization, slots[], appointments[]
```

#### Slot (–°–ª–æ—Ç—ã –≤—Ä–µ–º–µ–Ω–∏)
```prisma
- id: Int (PK)
- serviceId: Int (FK)
- startAt: DateTime
- endAt: DateTime
- capacity: Int (default: 1)
- Relations: service, bookings[]
- Unique constraint: [serviceId, startAt] - –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
```

#### Appointment (–ó–∞–ø–∏—Å–∏)
```prisma
- id: Int (PK)
- chatId: String (Telegram chat ID)
- serviceId: Int (FK)
- slotId: Int (FK)
- status: String (default: "confirmed")
- createdAt: DateTime
- Relations: service, slot
- Unique constraint: [slotId] - –æ–¥–∏–Ω appointment –Ω–∞ —Å–ª–æ—Ç
```

#### OrganizationAIConfig (AI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
```prisma
- id: Int (PK)
- organizationId: Int (Unique FK)
- provider: String ('openai', 'claude', 'custom')
- apiKey: String
- model: String (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'gpt-4o-mini')
- maxTokens: Int?
- temperature: Float?
- baseSystemPrompt: String?
- contextInstructions: String?
- behaviorInstructions: String?
- fallbackPrompt: String?
- customPrompts: String? (JSON)
- enabled: Boolean (default: false)
```

#### Notification (–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
```prisma
- id: String (CUID)
- userId: Int (FK)
- organizationId: Int (FK)
- type: String (EventType)
- title: String
- message: String
- data: Json?
- isRead: Boolean (default: false)
- isArchived: Boolean (default: false)
- createdAt, readAt, archivedAt: DateTime
```

#### EventLog (–õ–æ–≥–∏ —Å–æ–±—ã—Ç–∏–π)
```prisma
- id: String (CUID)
- organizationId: Int (FK)
- type: String (EventType)
- source: String ('telegram' | 'admin_panel' | 'api' | 'system')
- userId: Int? (FK)
- data: Json
- metadata: Json?
- timestamp: DateTime
```

---

## üåê API –°–¢–†–£–ö–¢–£–†–ê

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

#### Authentication
- `POST /api/auth/login` - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É (email + password ‚Üí JWT)
- `POST /api/auth/refresh` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- `GET /api/auth/me` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### Organizations
- `GET /api/organizations` - –°–ø–∏—Å–æ–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Ä–æ–ª–∏)
- `POST /api/organizations` - –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- `GET /api/organizations/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- `PUT /api/organizations/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- `DELETE /api/organizations/:id` - –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

#### Services
- `GET /api/services` - –°–ø–∏—Å–æ–∫ —É—Å–ª—É–≥ (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ organizationId)
- `POST /api/services` - –°–æ–∑–¥–∞–Ω–∏–µ —É—Å–ª—É–≥–∏
- `GET /api/services/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ —É—Å–ª—É–≥–∏
- `PUT /api/services/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏
- `DELETE /api/services/:id` - –£–¥–∞–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏

#### Appointments
- `GET /api/appointments` - –°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π)
- `POST /api/appointments` - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- `GET /api/appointments/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- `PUT /api/appointments/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- `DELETE /api/appointments/:id` - –û—Ç–º–µ–Ω–∞ –∑–∞–ø–∏—Å–∏

#### Slots
- `GET /api/slots` - –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
- `POST /api/slots/generate` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤
- `GET /api/slots/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª–æ—Ç–∞

#### Bot Management
- `GET /api/bot/status` - –°—Ç–∞—Ç—É—Å –±–æ—Ç–æ–≤
- `POST /api/bot/start/:organizationId` - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
- `POST /api/bot/stop/:organizationId` - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞
- `POST /api/bot/link/:organizationId` - –°–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–∞

#### AI Configuration
- `GET /api/ai/config/:organizationId` - –ü–æ–ª—É—á–µ–Ω–∏–µ AI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `POST /api/ai/config/:organizationId` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ AI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `POST /api/ai/test/:organizationId` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI

#### Notifications
- `GET /api/notifications` - –°–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `PUT /api/notifications/:id/read` - –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ
- `PUT /api/notifications/read-all` - –û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ

#### Health Checks
- `GET /api/health` - –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å
- `GET /api/health/websocket` - –°—Ç–∞—Ç—É—Å WebSocket
- `GET /api/health/database` - –°—Ç–∞—Ç—É—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `GET /api/health/bot` - –°—Ç–∞—Ç—É—Å Telegram –±–æ—Ç–∞

### WebSocket —ç–Ω–¥–ø–æ–∏–Ω—Ç:
- `ws://localhost:4000/ws?token=<JWT_TOKEN>` - WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

---

## ü§ñ TELEGRAM BOT –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### Bot Manager (–ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –±–æ—Ç–æ–≤)

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `BotManager` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –±–æ—Ç–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –ö–∞–∂–¥–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –±–æ—Ç–æ–≤ –∏–∑ –ë–î –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –±–æ—Ç–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ AI —Ö–µ–Ω–¥–ª–µ—Ä–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `backend/src/bot/bot-manager.ts`

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞:

- `/start [payload]` - –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∏–ø–ª–∏–Ω–∫–æ–≤ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- `/help` - –°–ø—Ä–∞–≤–∫–∞
- `/lang` - –°–º–µ–Ω–∞ —è–∑—ã–∫–∞ (ru/en/he)
- `/book` - –ù–∞—á–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- `/slots` - –ü–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ª–æ—Ç—ã
- `/my` - –ú–æ–∏ –∑–∞–ø–∏—Å–∏
- `/admin` - –û—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (Web App, —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
- `/ai` - –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (Handlers):

- `start.ts` - –û–±—Ä–∞–±–æ—Ç–∫–∞ /start –∫–æ–º–∞–Ω–¥—ã, –¥–∏–ø–ª–∏–Ω–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- `booking.ts` / `bookingInline.ts` - –ü–æ—Ç–æ–∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ inline –∫–Ω–æ–ø–∫–∏
- `my.ts` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º–∏ –∑–∞–ø–∏—Å—è–º–∏
- `slots.ts` - –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
- `ai-chat.ts` - AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
- `webappData.ts` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Telegram Web App

### Middleware:

- `i18n.ts` - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `isAdmin.ts` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### AI Assistant:

–ö–∞–∂–¥–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–≤–æ–µ–≥–æ AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞:
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã: OpenAI, Claude, Custom API
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ–º–ø—Ç—ã (baseSystemPrompt, contextInstructions, behaviorInstructions)
- Fallback –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (AIUsageLog)
- –ê–∫—Ç–∏–≤–∞—Ü–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è

---

## ‚ö° WEBSOCKET REAL-TIME –°–ò–°–¢–ï–ú–ê

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:

- **–°–µ—Ä–≤–µ—Ä:** –ü–æ—Ä—Ç 4000 (—Ç–æ—Ç –∂–µ —á—Ç–æ –∏ HTTP API), –ø—É—Ç—å `/ws`
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** JWT —Ç–æ–∫–µ–Ω –≤ query –ø–∞—Ä–∞–º–µ—Ç—Ä–µ `?token=<JWT>`
- **–ú–µ–Ω–µ–¥–∂–µ—Ä:** `WebSocketManager` –≤ `backend/src/websocket/server.ts`

### –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π:

- **Appointment Events:** created, updated, cancelled, confirmed
- **Service Events:** created, updated, deleted
- **Slot Events:** created, updated, deleted
- **Bot Events:** message_received, command_executed, booking_started, booking_completed
- **User Events:** login, logout, activity
- **System Events:** error, maintenance

### Emitters (–ò–∑–ª—É—á–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π):

- `AppointmentEmitter` - —Å–æ–±—ã—Ç–∏—è –∑–∞–ø–∏—Å–µ–π
- `ServiceEmitter` - —Å–æ–±—ã—Ç–∏—è —É—Å–ª—É–≥
- `BotEmitter` - —Å–æ–±—ã—Ç–∏—è –±–æ—Ç–∞

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ:

–ö–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ WebSocket –∏ –ø–æ–ª—É—á–∞–µ—Ç real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```javascript
const ws = new WebSocket(`ws://localhost:4000/ws?token=${jwtToken}`);
ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏—è
};
```

---

## üîê –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø –ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### JWT Authentication:

- **Access Token:** –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ 1 —á–∞—Å
- **Refresh Token:** –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ 7 –¥–Ω–µ–π
- **Secret:** –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `JWT_SECRET` –≤ .env

### –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

- **SUPER_ADMIN:** –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º
- **OWNER:** –í–ª–∞–¥–µ–ª–µ—Ü –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- **MANAGER:** –ú–µ–Ω–µ–¥–∂–µ—Ä –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø

### –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å:

–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –ø–æ `organizationId`. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ —Å–≤–æ–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å API:

- **CORS:** –ù–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤
- **Rate Limiting:** (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- **Input Validation:** Zod —Å—Ö–µ–º—ã –¥–ª—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **SQL Injection Protection:** Prisma ORM –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç SQL –∏–Ω—ä–µ–∫—Ü–∏–π
- **XSS Protection:** React –∏ Angular –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞

### Production Security:

- **HTTPS/SSL:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤ production
- **Security Headers:** CSP, HSTS, X-Frame-Options –∏ –¥—Ä.
- **Environment Variables:** –°–µ–∫—Ä–µ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ .env, –Ω–µ –≤ –∫–æ–¥–µ
- **Telegram Web App Auth:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ initData

---

## üåç –ú–£–õ–¨–¢–ò–Ø–ó–´–ß–ù–û–°–¢–¨

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏:

- üá∑üá∫ **Russian (ru)** - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- üá∫üá∏ **English (en)**
- üáÆüá± **Hebrew (he)**

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:

**Backend:**
- –§–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤: `backend/src/i18n/lang/ru.json`, `en.json`, `he.json`
- –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ HTTP –∏–ª–∏ Telegram

**Frontend (Admin Panel):**
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ i18n —á–µ—Ä–µ–∑ `LanguageProvider`
- –§–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ `admin-panel-react/src/i18n/`

**Database:**
- –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—è –≤ Service –º–æ–¥–µ–ª–∏: `nameRu`, `nameEn`, `nameHe`, `descriptionRu`, –∏ —Ç.–¥.

**Bot:**
- –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –∏–∑ Telegram
- –ö–æ–º–∞–Ω–¥–∞ `/lang` –¥–ª—è —Å–º–µ–Ω—ã —è–∑—ã–∫–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –≤ —Å–µ—Å—Å–∏–∏

---

## üöÄ DEPLOYMENT

### –ü–æ—Ä—Ç–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

- **Backend API:** `4000` (HTTP + WebSocket)
- **Admin Panel (React):** `4200` (Vite dev server)
- **Landing Page (Next.js):** `3000`
- **PostgreSQL:** `5432` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- **Nginx:** `80` (HTTP), `443` (HTTPS)

### Docker Compose —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

**–°–µ—Ä–≤–∏—Å—ã:**
1. `backend` - Node.js API —Å–µ—Ä–≤–µ—Ä
2. `frontend` - React Admin Panel (Vite)
3. `db` - PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
4. `nginx` - Reverse proxy (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Volumes:**
- `backend_data` - –î–∞–Ω–Ω—ã–µ –±—ç–∫–µ–Ω–¥–∞
- `postgres_data` - –î–∞–Ω–Ω—ã–µ PostgreSQL

**Networks:**
- `appointments-network` - Bridge network –¥–ª—è —Å–≤—è–∑–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

### Environment Variables (–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ):

```env
# Database
DATABASE_URL=postgresql://appointments:appointments_password@db:5432/appointments
# –∏–ª–∏ –¥–ª—è SQLite: DATABASE_URL=file:./prisma/dev.db

# JWT (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ò–ó–ú–ï–ù–ò–¢–¨ –í PRODUCTION!)
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Telegram Bot
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# URLs
PUBLIC_BASE_URL=https://your-domain.com
WEBAPP_URL=https://your-domain.com

# Node
NODE_ENV=production
PORT=4000

# WebSocket
WS_ENABLED=true
WS_PORT=4000

# AI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
OPENAI_API_KEY=your_openai_api_key
```

### –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞:

#### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd appointments-bot

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
cp .env.example .env
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ .env —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
```

#### 2. SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (–¥–ª—è production):
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
mkdir -p ssl

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
cp your-cert.pem ssl/cert.pem
cp your-key.pem ssl/key.pem
```

#### 3. Docker –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç:
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose-secure.yml up -d

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker-compose exec backend npx prisma migrate deploy
docker-compose exec backend npm run seed

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps
docker-compose logs -f
```

#### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
# Health checks
curl http://localhost:4000/api/health
curl http://localhost:4000/api/health/websocket
curl http://localhost:4000/api/health/database
curl http://localhost:4000/api/health/bot

# Frontend
curl http://localhost:4200
```

### –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

**–õ–æ–∫–∞—Ü–∏—è:** `scripts/`

- `setup.sh` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `dev.sh` - –ó–∞–ø—É—Å–∫ development –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `deploy.sh` - Production –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç
- `backup.sh` - –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- `backup-encrypted.sh` - –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- `monitor.sh` - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã
- `security-audit.sh` - –ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `performance-test.sh` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## üìä –ö–õ–Æ–ß–ï–í–´–ï WORKFLOWS

### 1. –ü–æ—Ç–æ–∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ Telegram:

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç /start –∏–ª–∏ /book
2. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —É—Å–ª—É–≥ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —É—Å–ª—É–≥—É (inline –∫–Ω–æ–ø–∫–∏)
4. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞—Ç—ã/–≤—Ä–µ–º—è (—Å–ª–æ—Ç—ã)
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ª–æ—Ç
6. –ë–æ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∏ —Å–æ–∑–¥–∞–µ—Ç Appointment
7. WebSocket –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (real-time)
8. –ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

### 2. –ü–æ—Ç–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:

```
1. SUPER_ADMIN —Å–æ–∑–¥–∞–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
2. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —É—Å–ª—É–≥–∏ (Services)
3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª–æ—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ (Slots) —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç –∏–ª–∏ API
4. –°–æ–∑–¥–∞–µ—Ç Telegram –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
5. –î–æ–±–∞–≤–ª—è–µ—Ç botToken –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
6. BotManager –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞
7. –ö–ª–∏–µ–Ω—Ç—ã –º–æ–≥—É—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –±–æ—Ç–∞
```

### 3. –ü–æ—Ç–æ–∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ —á–µ—Ä–µ–∑ Telegram Web App:

```
1. –ê–¥–º–∏–Ω –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç /admin –≤ –±–æ—Ç–µ
2. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–Ω–æ–ø–∫—É —Å Web App
3. Telegram –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Web App –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ
4. Web App –ø—Ä–æ–≤–µ—Ä—è–µ—Ç initData –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
5. –ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–≤–æ–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
6. –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ WebSocket –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

### 4. AI Assistant –ø–æ—Ç–æ–∫:

```
1. –ö–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –±–æ—Ç–µ (–Ω–µ –∫–æ–º–∞–Ω–¥—É)
2. BotManager –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –ª–∏ AI –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
3. –ï—Å–ª–∏ –¥–∞ - AI Handler –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
4. AI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–ø—Ä–æ–º–ø—Ç—ã, –º–æ–¥–µ–ª—å)
5. AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —Å —É—á–µ—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
6. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ AIUsageLog
7. –û—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É
```

---

## üîß –†–ê–ó–†–ê–ë–û–¢–ö–ê –ò –û–¢–õ–ê–î–ö–ê

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:

**Backend:**
```bash
cd backend
npm install
npx prisma generate
npx prisma db push
npm run seed
npm run dev  # –ó–∞–ø—É—Å–∫ –Ω–∞ –ø–æ—Ä—Ç—É 4000
```

**Frontend (Admin Panel):**
```bash
cd admin-panel-react
npm install
npm run dev  # –ó–∞–ø—É—Å–∫ –Ω–∞ –ø–æ—Ä—Ç—É 4200
```

**Landing:**
```bash
cd landing
npm install
npm run dev  # –ó–∞–ø—É—Å–∫ –Ω–∞ –ø–æ—Ä—Ç—É 3000
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

**Backend:**
- `npm run slots:month` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤ –Ω–∞ –º–µ—Å—è—Ü
- `npm run bot:commands` - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞
- `npm run create-system-admin` - –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–∞
- `npx prisma studio` - GUI –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**Database:**
- `npx prisma migrate dev` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
- `npx prisma migrate deploy` - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (production)
- `npx prisma db push` - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏ (dev)
- `npx prisma generate` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client

### –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

- **Email:** admin@system.com
- **Password:** admin123

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ò–∑–º–µ–Ω–∏—Ç—å –≤ production!

---

## üìà –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

### Health Checks:

- `GET /api/health` - –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- `GET /api/health/websocket` - –°—Ç–∞—Ç—É—Å WebSocket —Å–µ—Ä–≤–µ—Ä–∞
- `GET /api/health/database` - –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- `GET /api/health/bot` - –°—Ç–∞—Ç—É—Å Telegram –±–æ—Ç–æ–≤

### –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

- **Response Time:** < 100ms —Å—Ä–µ–¥–Ω–µ–µ, < 200ms (95th percentile)
- **Memory Usage:** ~200-300MB total
- **Database:** < 50ms query time, 10 connection pool
- **WebSocket:** < 100ms connection, < 50ms message delivery, 100+ concurrent connections

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

- **Backend:** Console + file logs (`logs/backend.log`)
- **Structured Logging:** JSON —Ñ–æ—Ä–º–∞—Ç
- **Log Levels:** error, warn, info, debug

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
./scripts/backup-encrypted.sh

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –±—ç–∫–∞–ø–æ–≤
0 2 * * * /path/to/appointments-bot/scripts/backup-encrypted.sh
```

---

## üö® TROUBLESHOOTING

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

#### 1. –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `botToken` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `docker-compose logs backend`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞: `GET /api/bot/status`
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ BotManager –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω

#### 2. –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
docker-compose exec db pg_isready -U appointments

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
docker-compose exec backend npx prisma migrate deploy

# –°–±—Ä–æ—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–û–°–¢–û–†–û–ñ–ù–û!)
docker-compose exec backend npx prisma migrate reset
```

#### 3. WebSocket –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å JWT —Ç–æ–∫–µ–Ω –≤ query –ø–∞—Ä–∞–º–µ—Ç—Ä–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `WS_ENABLED=true` –≤ .env
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ WebSocket —Å–µ—Ä–≤–µ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### 4. –ü—Ä–æ–±–ª–µ–º—ã —Å Docker:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose down
docker-compose build --no-cache
docker-compose up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f backend
docker-compose logs -f frontend
```

#### 5. –ü—Ä–æ–±–ª–µ–º—ã —Å SSL:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
openssl x509 -in ssl/cert.pem -text -noout

# –¢–µ—Å—Ç SSL —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
openssl s_client -connect your-domain.com:443
```

---

## üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

### –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:

- `README.md` - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- `docs/PROJECT_DETAILED_SPECIFICATION.md` - –î–µ—Ç–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
- `docs/PRODUCTION_DEPLOYMENT_GUIDE.md` - –ì–∞–π–¥ –ø–æ production –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É
- `docs/INFRASTRUCTURE.md` - –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/architecture/README.md` - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/deployment/DEPLOYMENT_GUIDE.md` - –ì–∞–π–¥ –ø–æ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É

### API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- `docs/api/README.md` - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Development –≥–∞–π–¥—ã:

- `docs/development/README.md` - Development –≥–∞–π–¥—ã
- `docs/development/TELEGRAM_WEBAPP_INTEGRATION_GUIDE.md` - Telegram Web App –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### Business –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- `docs/business/README.md` - –ë–∏–∑–Ω–µ—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/business/CRITICAL_BOT_CREATION_FLOW.md` - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞

---

## üéØ –ö–õ–Æ–ß–ï–í–´–ï –û–°–û–ë–ï–ù–ù–û–°–¢–ò –î–õ–Ø –ö–û–ù–°–£–õ–¨–¢–ò–†–û–í–ê–ù–ò–Ø

### –ü—Ä–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É:

1. **–û–∫—Ä—É–∂–µ–Ω–∏–µ:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ environment variables
   - –£–±–µ–¥–∏—Ç—å—Å—è –≤ –Ω–∞–ª–∏—á–∏–∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è production
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å firewall (–ø–æ—Ä—Ç—ã 80, 443, 22)

2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - SQLite –¥–ª—è development, PostgreSQL –¥–ª—è production
   - –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏: `npx prisma migrate deploy`
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

3. **Telegram Bot:**
   - –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
   - –î–æ–±–∞–≤–∏—Ç—å botToken –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ BotManager –∑–∞–ø—É—Å—Ç–∏–ª –±–æ—Ç–∞

4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - –ò–∑–º–µ–Ω–∏—Ç—å `JWT_SECRET` –≤ production
   - –ò–∑–º–µ–Ω–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS/SSL
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å security headers

5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å health checks
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã

### –ü—Ä–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ —Å–∏—Å—Ç–µ–º–µ –≤ —Ü–µ–ª–æ–º:

1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
   - –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –∏–∑–æ–ª—è—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö –ø–æ organizationId
   - –ö–∞–∂–¥–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∏–º–µ–µ—Ç —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞
   - WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

2. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ: Load balancer, –Ω–µ—Å–∫–æ–ª—å–∫–æ backend –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤, Redis –¥–ª—è shared state
   - –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ: –£–≤–µ–ª–∏—á–µ–Ω–∏–µ RAM/CPU, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - Database indexes –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª—è—Ö
   - Connection pooling –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   - Response caching –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   - Code splitting –∏ lazy loading –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
   - Telegram Bot API
   - Telegram Web App API
   - OpenAI API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - WebSocket –¥–ª—è real-time

---

## ‚úÖ PRODUCTION CHECKLIST

### Pre-Deployment:
- [ ] –í—Å–µ environment variables –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] Database migrations –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- [ ] –ë—ç–∫–∞–ø—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Security audit –ø—Ä–æ–π–¥–µ–Ω
- [ ] JWT_SECRET –∏–∑–º–µ–Ω–µ–Ω
- [ ] –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω—ã

### Post-Deployment:
- [ ] Health checks –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Frontend –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Telegram –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Database –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

---

---

## üë• –ö–û–ú–ê–ù–î–ù–ê–Ø –†–ê–ë–û–¢–ê

**–í–∞–∂–Ω–æ:** –ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π –∏–∑ 2 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –≤ Cursor.

### Git Workflow:
- **`main`** - production-ready –∫–æ–¥ (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ PR)
- **`develop`** - integration branch (–æ—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—á–∞—è –≤–µ—Ç–∫–∞)
- **Feature branches** - `feature/–Ω–∞–∑–≤–∞–Ω–∏–µ` –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- **Bugfix branches** - `bugfix/–Ω–∞–∑–≤–∞–Ω–∏–µ` –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤

### –ö–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∫–æ–º–º–∏—Ç–æ–≤:
```
type(scope): subject

–ü—Ä–∏–º–µ—Ä—ã:
feat(backend): add user authentication endpoint
fix(frontend): resolve calendar date picker bug
docs(readme): update installation instructions
```

**–¢–∏–ø—ã:** `feat`, `fix`, `docs`, `style`, `refactor`, `test`, `chore`, `perf`, `ci`

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –∫–æ–º–∞–Ω–¥—ã:
- **docs/TEAM_WORKFLOW.md** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç–µ
- **docs/TEAM_QUICK_REFERENCE.md** - –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞ –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- **docs/TEAM_SETUP.md** - –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- **TEAM_START_HERE.md** - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)

### –ü—Ä–æ—Ü–µ—Å—Å—ã:
1. –í—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–π –¥–µ–Ω—å —Å `git checkout develop && git pull origin develop`
2. –°–æ–∑–¥–∞–≤–∞–π feature –≤–µ—Ç–∫—É: `git checkout -b feature/my-task`
3. –î–µ–ª–∞–π –∫–æ–º–º–∏—Ç—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º
4. –°–æ–∑–¥–∞–≤–∞–π PR –¥–ª—è code review –ø–µ—Ä–µ–¥ –º–µ—Ä–∂–µ–º –≤ `develop`
5. –ò—Å–ø–æ–ª—å–∑—É–π `.cursorrules` –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-18 (Team Workflow Setup)  
**–°—Ç–∞—Ç—É—Å:** Production Ready ‚úÖ

---

–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É –∏ –æ–±—â–∏–º –≤–æ–ø—Ä–æ—Å–∞–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã.

